# js版本卡五星麻将服务器程序
- 仅包括服务器端(使用ws包进行WebSocket支持，以前的使用的是socket.io，用于layabox会出各种奇怪问题！)
- 仅用于教学

# 开发模式
- npm run start //开启服务器，端口为3333，可以从config.js文件中修改默认的端口号，前端自动读取
- npm run a //使用ava进行测试，配置就在package.json之中
- npm run test //使用karma进行测试

# 卡五星规则说明
见项目内菜单中规则项，以下是节选

# 胡牌类型
1. 碰碰胡：由4副刻子（或杠）、将牌组成的胡牌。×2。
（刻子：三张一样的牌。）
2. 明四归一： 要胡的牌已被自己碰过，最后又赢这张牌（放炮）。×2
3. 暗四归一： 要胡的牌自己手上已有三张，最后又赢到这张牌（自摸）。×4
4. 七对：　7个对子组成的的胡牌。×4
5. 龙七对 ：　7对牌中间，有四个相同的牌当做两个对子使用。 ×8
6. 双龙七对 ：7对牌中间，有两个四个相同的牌当做四个对子使用。 ×16
7. 大三元：胡牌时，有中发白3副刻子(杠)。×8
8. 小三元： 胡牌时，有中发白的两副刻子(杠)和一对将牌。×4
9. 杠上开花： 相当于自摸胡牌。×2
10. 杠上炮：别人开杠后打出的牌成胡牌。×2
11. 抢杠胡：胡别人自抓开明杠的牌（别人自抓开暗杠的牌不可抢杠）。×2
12. 清一色：由一种花色的牌组成的胡牌。×4
13. 手抓一：已碰了四对牌，手中只剩一张牌 。×4 。
14. 海底捞月：胡整付牌的最后一张（第84张）牌。×2
15. 亮倒：听牌后，可以选择把手中的牌亮出来给所有人看着打 ×2
16. 卡五星：卡5饼、5条胡牌。　×2


# 算番参考
| 胡牌类型　| 倍数 | 输赢 |
|--------|----- |---------|
| 碰碰胡 | ×2 | 自摸2人出 放炮一人出 |
|明四归一 | ×2 | 自摸2人出  放炮一人出 |
|暗四归一 | ×4 | 自摸2人出  放炮一人出 |
|七对 | ×4 | 自摸2人出  放炮一人出 |
|龙七对 | ×8 | 自摸2人出  放炮一人出 |
|双龙七对 | ×16 | 自摸2人出  放炮一人出 |
|大三元 | ×8 | 自摸2人出  放炮一人出 |
|小三元 | ×4 | 自摸2人出  放炮一人出 |
|杠上开花 | ×2 | 自摸2人出 | 
|杠上炮 | ×2 | 放炮一人出 |
|抢杠胡 |×2 |放炮一人出 |
|清一色 |×4 |自摸2人出 放炮一人出
|手抓一 |×4 |自摸2人出 放炮一人出
|海底捞月 |×2 |自摸2人出 |
|亮倒 | ×2 |自摸2人出  放炮一人出 。
|卡五星 | ×2 | 自摸2人出  放炮一人出
|直杠| ×2 | 点杠者出双份  另外一家不出 |
|补杠(擦炮）| ×1 | 二家都要出
|暗杠|×2 | 二家都要出